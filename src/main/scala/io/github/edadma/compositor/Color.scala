package io.github.edadma.compositor

private val RGBRegex = "#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})".r

class Color(val red: Double, val green: Double, val blue: Double, val alpha: Double = 1):
  def this(r: Int, g: Int, b: Int, a: Int) = this(r / 255.0, g / 255.0, b / 255.0, a / 255.0)

object Color:
  def apply(c: String): Color =
    c match
      case RGBRegex(r, g, b) =>
        new Color(Integer.parseInt(r, 16), Integer.parseInt(g, 16), Integer.parseInt(b, 16), 255)
      case "white"   => new Color(0xff, 0xff, 0xff)
      case "silver"  => new Color(0xc0, 0xc0, 0xc0)
      case "gray"    => new Color(0x80, 0x80, 0x80)
      case "black"   => new Color(0x00, 0x00, 0x00)
      case "red"     => new Color(0xff, 0x00, 0x00)
      case "maroon"  => new Color(0x80, 0x00, 0x00)
      case "yellow"  => new Color(0xff, 0xff, 0x00)
      case "olive"   => new Color(0x80, 0x80, 0x00)
      case "lime"    => new Color(0x00, 0xff, 0x00)
      case "green"   => new Color(0x00, 0x80, 0x00)
      case "aqua"    => new Color(0x00, 0xff, 0xff)
      case "teal"    => new Color(0x00, 0x80, 0x80)
      case "blue"    => new Color(0x00, 0x00, 0xff)
      case "navy"    => new Color(0x00, 0x00, 0x80)
      case "fuchsia" => new Color(0xff, 0x00, 0xff)
      case "purple"  => new Color(0x80, 0x00, 0x80)
      case _         => sys.error(s"color code not recognized: $c")

private val colorMap = Map(
  "aliceblue" -> new Color(0xf0, 0xf8, 0xff),
  "antiquewhite" -> new Color(0xfa, 0xeb, 0xd7),
  "aqua" -> new Color(0x00, 0xff, 0xff),
  "aquamarine" -> new Color(0x7f, 0xff, 0xd4),
  "azure" -> new Color(0xf0, 0xff, 0xff),
  "beige" -> new Color(0xf5, 0xf5, 0xdc),
  "bisque" -> new Color(0xff, 0xe4, 0xc4),
  "black" -> new Color(0x00, 0x00, 0x00),
  "blanchedalmond" -> new Color(0xff, 0xeb, 0xcd),
  "blue" -> new Color(0x00, 0x00, 0xff),
  "blueviolet" -> new Color(0x8a, 0x2b, 0xe2),
  "brown" -> new Color(0xa5, 0x2a, 0x2a),
  "burlywood" -> new Color(0xde, 0xb8, 0x87),
  "cadetblue" -> new Color(0x5f, 0x9e, 0xa0),
  "chartreuse" -> new Color(0x7f, 0xff, 0x00),
  "chocolate" -> new Color(0xd2, 0x69, 0x1e),
  "coral" -> new Color(0xff, 0x7f, 0x50),
  "cornflowerblue" -> new Color(0x64, 0x95, 0xed),
  "cornsilk" -> new Color(0xff, 0xf8, 0xdc),
  "crimson" -> new Color(0xdc, 0x14, 0x3c),
  "cyan" -> new Color(0x00, 0xff, 0xff),
  "darkblue" -> new Color(0x00, 0x00, 0x8b),
  "darkcyan" -> new Color(0x00, 0x8b, 0x8b),
  "darkgoldenrod" -> new Color(0xb8, 0x86, 0x0b),
  "darkgrey" -> new Color(0xa9, 0xa9, 0xa9),
  "darkgreen" -> new Color(0x00, 0x64, 0x00),
  "darkkhaki" -> new Color(0xbd, 0xb7, 0x6b),
  "darkmagenta" -> new Color(0x8b, 0x00, 0x8b),
  "darkolivegreen" -> new Color(0x55, 0x6b, 0x2f),
  "darkorange" -> new Color(0xff, 0x8c, 0x00),
  "darkorchid" -> new Color(0x99, 0x32, 0xcc),
  "darkred" -> new Color(0x8b, 0x00, 0x00),
  "darksalmon" -> new Color(0xe9, 0x96, 0x7a),
  "darkseagreen" -> new Color(0x8f, 0xbc, 0x8f),
  "darkslateblue" -> new Color(0x48, 0x3d, 0x8b),
  "darkslategrey" -> new Color(0x2f, 0x4f, 0x4f),
  "darkturquoise" -> new Color(0x00, 0xce, 0xd1),
  "darkviolet" -> new Color(0x94, 0x00, 0xd3),
  "deeppink" -> new Color(0xff, 0x14, 0x93),
  "deepskyblue" -> new Color(0x00, 0xbf, 0xff),
  "dimgray" -> new Color(0x69, 0x69, 0x69),
  "dodgerblue" -> new Color(0x1e, 0x90, 0xff),
  "firebrick" -> new Color(0xb2, 0x22, 0x22),
  "floralwhite" -> new Color(0xff, 0xfa, 0xf0),
  "forestgreen" -> new Color(0x22, 0x8b, 0x22),
  "fuchsia" -> new Color(0xff, 0x00, 0xff),
  "gainsboro" -> new Color(0xdc, 0xdc, 0xdc),
  "ghostwhite" -> new Color(0xf8, 0xf8, 0xff),
  "gold" -> new Color(0xff, 0xd7, 0x00),
  "goldenrod" -> new Color(0xda, 0xa5, 0x20),
  "grey" -> new Color(0x80, 0x80, 0x80),
  "green" -> new Color(0x00, 0x80, 0x00),
  "greenyellow" -> new Color(0xad, 0xff, 0x2f),
  "honeydew" -> new Color(0xf0, 0xff, 0xf0),
  "hotpink" -> new Color(0xff, 0x69, 0xb4),
  "indianred" -> new Color(0xcd, 0x5c, 0x5c),
  "indigo" -> new Color(0x4b, 0x00, 0x82),
  "ivory" -> new Color(0xff, 0xff, 0xf0),
  "khaki" -> new Color(0xf0, 0xe6, 0x8c),
  "lavender" -> new Color(0xe6, 0xe6, 0xfa),
  "lavenderblush" -> new Color(0xff, 0xf0, 0xf5),
  "lawngreen" -> new Color(0x7c, 0xfc, 0x00),
  "lemonchiffon" -> new Color(0xff, 0xfa, 0xcd),
  "lightblue" -> new Color(0xad, 0xd8, 0xe6),
  "lightcoral" -> new Color(0xf0, 0x80, 0x80),
  "lightcyan" -> new Color(0xe0, 0xff, 0xff),
  "lightgoldenrodyellow" -> new Color(0xfa, 0xfa, 0xd2),
  "lightgrey" -> new Color(0xd3, 0xd3, 0xd3),
  "lightgreen" -> new Color(0x90, 0xee, 0x90),
  "lightpink" -> new Color(0xff, 0xb6, 0xc1),
  "lightsalmon" -> new Color(0xff, 0xa0, 0x7a),
  "lightseagreen" -> new Color(0x20, 0xb2, 0xaa),
  "lightskyblue" -> new Color(0x87, 0xce, 0xfa),
  "lightslategrey" -> new Color(0x77, 0x88, 0x99),
  "lightsteelblue" -> new Color(0xb0, 0xc4, 0xde),
  "lightyellow" -> new Color(0xff, 0xff, 0xe0),
  "lime" -> new Color(0x00, 0xff, 0x00),
  "limegreen" -> new Color(0x32, 0xcd, 0x32),
  "linen" -> new Color(0xfa, 0xf0, 0xe6),
  "magenta" -> new Color(0xff, 0x00, 0xff),
  "maroon" -> new Color(0x80, 0x00, 0x00),
  "mediumaquamarine" -> new Color(0x66, 0xcd, 0xaa),
  "mediumblue" -> new Color(0x00, 0x00, 0xcd),
  "mediumorchid" -> new Color(0xba, 0x55, 0xd3),
  "mediumpurple" -> new Color(0x93, 0x70, 0xd8),
  "mediumseagreen" -> new Color(0x3c, 0xb3, 0x71),
  "mediumslateblue" -> new Color(0x7b, 0x68, 0xee),
  "mediumspringgreen" -> new Color(0x00, 0xfa, 0x9a),
  "mediumturquoise" -> new Color(0x48, 0xd1, 0xcc),
  "mediumvioletred" -> new Color(0xc7, 0x15, 0x85),
  "midnightblue" -> new Color(0x19, 0x19, 0x70),
  "mintcream" -> new Color(0xf5, 0xff, 0xfa),
  "mistyrose" -> new Color(0xff, 0xe4, 0xe1),
  "moccasin" -> new Color(0xff, 0xe4, 0xb5),
  "navajowhite" -> new Color(0xff, 0xde, 0xad),
  "navy" -> new Color(0x00, 0x00, 0x80),
  "oldlace" -> new Color(0xfd, 0xf5, 0xe6),
  "olive" -> new Color(0x80, 0x80, 0x00),
  "olivedrab" -> new Color(0x6b, 0x8e, 0x23),
  "orange" -> new Color(0xff, 0xa5, 0x00),
  "orangered" -> new Color(0xff, 0x45, 0x00),
  "orchid" -> new Color(0xda, 0x70, 0xd6),
  "palegoldenrod" -> new Color(0xee, 0xe8, 0xaa),
  "palegreen" -> new Color(0x98, 0xfb, 0x98),
  "paleturquoise" -> new Color(0xaf, 0xee, 0xee),
  "palevioletred" -> new Color(0xd8, 0x70, 0x93),
  "papayawhip" -> new Color(0xff, 0xef, 0xd5),
  "peachpuff" -> new Color(0xff, 0xda, 0xb9),
  "peru" -> new Color(0xcd, 0x85, 0x3f),
  "pink" -> new Color(0xff, 0xc0, 0xcb),
  "plum" -> new Color(0xdd, 0xa0, 0xdd),
  "powderblue" -> new Color(0xb0, 0xe0, 0xe6),
  "purple" -> new Color(0x80, 0x00, 0x80),
  "red" -> new Color(0xff, 0x00, 0x00),
  "rosybrown" -> new Color(0xbc, 0x8f, 0x8f),
  "royalblue" -> new Color(0x41, 0x69, 0xe1),
  "saddlebrown" -> new Color(0x8b, 0x45, 0x13),
  "salmon" -> new Color(0xfa, 0x80, 0x72),
  "sandybrown" -> new Color(0xf4, 0xa4, 0x60),
  "seagreen" -> new Color(0x2e, 0x8b, 0x57),
  "seashell" -> new Color(0xff, 0xf5, 0xee),
  "sienna" -> new Color(0xa0, 0x52, 0x2d),
  "silver" -> new Color(0xc0, 0xc0, 0xc0),
  "skyblue" -> new Color(0x87, 0xce, 0xeb),
  "slateblue" -> new Color(0x6a, 0x5a, 0xcd),
  "slategrey" -> new Color(0x70, 0x80, 0x90),
  "snow" -> new Color(0xff, 0xfa, 0xfa),
  "springgreen" -> new Color(0x00, 0xff, 0x7f),
  "steelblue" -> new Color(0x46, 0x82, 0xb4),
  "tan" -> new Color(0xd2, 0xb4, 0x8c),
  "teal" -> new Color(0x00, 0x80, 0x80),
  "thistle" -> new Color(0xd8, 0xbf, 0xd8),
  "tomato" -> new Color(0xff, 0x63, 0x47),
  "turquoise" -> new Color(0x40, 0xe0, 0xd0),
  "violet" -> new Color(0xee, 0x82, 0xee),
  "wheat" -> new Color(0xf5, 0xde, 0xb3),
  "white" -> new Color(0xff, 0xff, 0xff),
  "whitesmoke" -> new Color(0xf5, 0xf5, 0xf5),
  "yellow" -> new Color(0xff, 0xff, 0x00),
  "yellowgreen" -> new Color(0x9a, 0xcd, 0x32),
)
